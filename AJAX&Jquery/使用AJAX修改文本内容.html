<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>初次使用AJAX</title>
    <style>
        @import url(../example.css);
        .ps
        {
            color:green;
        }
    </style>
    <script>
        function loadXMLDoc()
        {
            var xmlhttp;
            //XMLHttpRequest用于在后台与服务器交换数据,进行部分更改
            if(window.XMLHttpRequest)
            {
                //步骤一：创建异步对象
                xmlhttp=new XMLHttpRequest();
                console.log('yes')
            }
            else
            {//老版本的服务器
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")
                console.log('else')
            }
            //步骤二：注册事件 onreadystatechange 状态改变 就会调用
             xmlhttp.open("GET",'try/ajax/ajax_info.txt',true)
            xmlhttp.send();
            xmlhttp.onreadystatechange=function()
            {
                //步骤三：如果能够进入这个判断，说明数据返回，请求页面存在
                if(xmlhttp.readyState==4&&xmlhttp.status==200)
                {
                    //服务器的响应并非XML,使用responseText
                    document.getElementById('myDiv').innerHTML=xmlhttp.responseText;
                }
                //步骤四：发送请求
               
            }
        }
    </script>
</head>

<body>
    <a href="https://juejin.im/post/6844904024521572366">参考参数和函数内容</a>
    <h1>逐步解析AJAX的使用</h1>
    <ul><strong>四大步骤</strong>
    <li><a href="#step1">步骤一：创建异步对象</a></li>
    <li><a href="#step2">步骤二:设置请求的url参数</a></li>
    <li><a href="#step3">步骤三：如果能够进入这个判断，说明数据返回，请求页面存在</a></li>
    <li><a href="#step4">步骤四:注册事件 onreadystatechange 状态改变就会调用</a></li>
    <li><a href="#step4">步骤五 据 完美的回来了,并且请求的页面是存在的</a></li>
    </ul>
    <div id="step1">
        <h2>步骤一：创建异步对象</h2>
        <p class="example">xmlhttp=new XMLHttpRequest()</p>
       </div>

    <div id="step2">
        <h2>步骤二：发送请求函数</h2>
    <h5>服务器交换数据的对象 XMLHttpRequest</h5>
    <p class="example">xmlhttp=new XMLHttpRequest()</p>
    <h5>向服务器发送请求</h5>
    <p class="example">xmlhttp.open('GET','ajax_info.txt',true)</p>
    <ul><strong class="example">open(method,url,async)</strong>
        <li>method：请求的类型——GET或者POST</li>
        <p class='ps'>大部分情况下用GET:</p>
        
        <li>url:文件在服务器上的位置</li>
        <li>async:true或false</li>
    </ul>
    <br><p class='example'>xmlhttp.open("GET","/try/ajax/demo_get.php?t=" + Math.random(),true);</p>
        <br><p>确保获取url不是缓存的结果</p>
     
       <h6>通过GRT发送信息</h6>
       <p class="example">xmlhttp.open("GET","/try/ajax/demo_get2.php?fname=Henry&lname=Ford",true);</p>
    <ul><strong class="example">send(string)</strong>
        <li>string:仅用于POST请求</li>
    </ul>
</div>

    <div id='myDiv'><h2>使用 AJAX 修改该文本内容</h2></div>
    <button type='button' onclick='loadXMLDoc()'>修改内容</button>    
    <p>调用loadXMLDoc函数</p>
</body>
</html>